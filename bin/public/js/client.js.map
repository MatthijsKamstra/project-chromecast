{
"version":3,
"file":"client.js",
"sourceRoot":"file:///",
"sources":["/Users/matthijs/Documents/workingdir/haxe/project-chromecast/src/MainClient.hx","/usr/local/lib/haxe/std/js/_std/Reflect.hx","/usr/local/lib/haxe/std/js/Browser.hx"],
"sourcesContent":["package;\n\nimport js.Browser;\nimport js.Browser.document;\nimport js.Browser.console;\n\nimport js.jquery.JQuery;\n\n\nclass MainClient {\n\n\tvar localStorage : js.html.Storage;\n\n\tpublic function new () {\n\t\ttrace('MainClient :: client.js');\n\n\t\tlocalStorage = js.Browser.getLocalStorage();\n\t\tnew JQuery(document).ready ( function () {\n\t\t\ttrace (\"client.js document ready!\");\n\t\t\tinit();\n\t\t});\n\t}\n\n\tfunction init(){\n\t\tinitDrag();\n\t\tinitSockets();\n\t}\n\n\tfunction initDrag(){\n\t\ttrace('init drag');\n\n\t\tvar holder = document.getElementById('drag-file');\n\n\t\tif(holder == null) return;\n\n\t\tholder.ondragover = function () {\n\t\t\treturn false;\n\t\t};\n\n\t\tholder.ondragleave = function () {\n\t\t\treturn false;\n\t\t};\n\n\t\tholder.ondragend = function () {\n\t\t\treturn false;\n\t\t};\n\n\t\tholder.ondrop = function (e:js.html.DragEvent) {\n\t\t\te.preventDefault();\n\n\t\t\ttrace(e);\n\t\t\ttrace(e.dataTransfer);\n\t\t\tvar tot =  e.dataTransfer.files;\n\n\t\t\ttrace(tot);\n\t\t\tfor (i in e.dataTransfer.files){\n\t\t\t\tvar file : js.html.File = i;\n\t\t\t\ttrace(file.name);\n\t\t\t\tvar path = Reflect.getProperty(file,'path');\n\t\t\t\tif(path != null) trace(path );\n\n\t\t\t}\n\t\t\t// for (let f of e.dataTransfer.files) {\n\t\t\t// \tconsole.log('File(s) you dragged here: ', f.path)\n\t\t\t// }\n\n\t\t\treturn false;\n\t\t};\n\n\n\t}\n/*\n// browser\nlastModified: 1460405251000\nlastModifiedDate: Date 2016-04-11T20:07:31.000Z\nname: \"icon.png\"\nsize: 3174\ntype: \"image/png\"\n*/\n\n/*\n// node/electron\nlastModified:1460405251000\nlastModifiedDate:Mon Apr 11 2016 22:07:31 GMT+0200 (CEST)\nname:\"icon.png\"\npath:\"/Users/matthijs/Documents/workingdir/haxe/hxgenerate/icon.png\"\nsize:3174\ntype:\"image/png\"\n*/\n\n\n\tfunction initSockets(){\n\t\ttrace('init sockets');\n\n\t\t// init sockets\n\t\tvar _socket = js.browser.SocketIo.connect('http://localhost:3000');\n\t\t// var _socket = js.browser.SocketIo.connect('http://localhost:${MainServer.PORT}');\n\t\t_socket.on('message', function (data) {\n\t\t\tconsole.info('message:' + haxe.Json.stringify(data) );\n\t\t\t// toggleThrobber(true);\n\t\t} ) ;\n\t\t_socket.on('loading', function (data) {\n\t\t\t// console.info('loading:' + haxe.Json.stringify(data) );\n\t\t\t// toggleThrobber(true);\n\t\t} ) ;\n\t}\n\n\tstatic public function main () {\n\t\tnew MainClient ();\n\t}\n}","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\t@:pure\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic {\n\t\ttry return untyped o[field] catch( e : Dynamic ) return null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : haxe.Constraints.Function, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nimport js.html.Storage;\nimport js.html.XMLHttpRequest;\n\nclass Browser {\n\t/** The global window object. */\n\tpublic static var window(get, never):js.html.Window;\n\tinline static function get_window() return untyped __js__(\"window\");\n\n\t/** Shortcut to Window.document. */\n\tpublic static var document(get, never):js.html.HTMLDocument;\n\tinline static function get_document() return untyped __js__(\"window.document\");\n\n\t/** Shortcut to Window.location. */\n\tpublic static var location(get, never):js.html.Location;\n\tinline static function get_location() return untyped __js__(\"window.location\");\n\n\t/** Shortcut to Window.navigator. */\n\tpublic static var navigator(get, never):js.html.Navigator;\n\tinline static function get_navigator() return untyped __js__(\"window.navigator\");\n\n\t/** Shortcut to Window.console. */\n\tpublic static var console(get, never):js.html.Console;\n\tinline static function get_console() return untyped __js__(\"window.console\");\n\n\t/**\n\t * True if a window object exists, false otherwise.\n\t *\n\t * This can be used to check if the code is being executed in a non-browser\n\t * environment such as node.js.\n\t */\n\tpublic static var supported(get, never):Bool;\n\tinline static function get_supported() return untyped __typeof__(window) != \"undefined\";\n\n\t/**\n\t * Safely gets the browser's local storage, or returns null if localStorage is unsupported or\n\t * disabled.\n\t */\n\tpublic static function getLocalStorage() : Storage\n\t{\n\t\ttry {\n\t\t\tvar s = window.localStorage;\n\t\t\ts.getItem(\"\");\n\t\t\treturn s;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Safely gets the browser's session storage, or returns null if sessionStorage is unsupported\n\t * or disabled.\n\t */\n\tpublic static function getSessionStorage() : Storage\n\t{\n\t\ttry {\n\t\t\tvar s = window.sessionStorage;\n\t\t\ts.getItem(\"\");\n\t\t\treturn s;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Creates an XMLHttpRequest, with a fallback to ActiveXObject for ancient versions of Internet\n\t * Explorer.\n\t */\n\tpublic static function createXMLHttpRequest() : XMLHttpRequest\n\t{\n\t\tif( untyped __js__(\"typeof XMLHttpRequest\") != \"undefined\" ) {\n\t\t\treturn new XMLHttpRequest();\n\t\t}\n\t\tif( untyped __js__(\"typeof ActiveXObject\") != \"undefined\" ) {\n\t\t\treturn untyped __new__(\"ActiveXObject\",\"Microsoft.XMLHTTP\");\n\t\t}\n\t\tthrow \"Unable to create XMLHttpRequest object.\";\n\t}\n\n\t/**\n\t\tDisplay an alert message box containing the given message. See also `Window.alert()`.\n\t**/\n\tpublic static function alert( v : Dynamic ) {\n\t\t@:privateAccess window.alert(Boot.__string_rec(v,\"\"));\n\t}\n}\n"],
"names":[],
"mappings":";;iBAaQ,WAAgB;AAAA,CAAhB;CACN,YAAO;CAEP,oBAAe;CACf,EAAW,uBAAkB,WAAY;AAAA,EACxC,YAAO;EACP;;;kBAwFY,WACb;AAAA;;;OArFD,WAAe;AAAA,EACd;EACA;;YAGD,WAAmB;AAAA,EAClB,YAAO;EAEP,aAAa,+BAAyB;EAEtC,EAAG,WAAU,MAAM;AAAA;;EAEnB,oBAAoB,WACnB;AAAA,UAAO;;EAGR,qBAAqB,WACpB;AAAA,UAAO;;EAGR,mBAAmB,WAClB;AAAA,UAAO;;EAGR,gBAAgB,YAA+B;AAAA,GAC9C;GAEA,YAAM;GACN,YAAM;GACN,UAAW;GAEX,YAAM;GACN;aAAU;GAAV,WAAU,YAAV;AAAA,IAAK,QAAL,AAAU,IAAV;;IACC,WAA0B;IAC1B,YAAM;IACN,WAAW,oBAAoB,KAAM;IACrC,EAAG,SAAQ,MAAM;AAAA,iBAAM;;;GAOxB,OAAO;;;eAyBT,WAAsB;AAAA,EACrB,YAAO;EAGP,cAAc,WAA6B;EAE3C,WAAY,UAAU,eACrB;AAAA,uBAAa,AAAC,aAAY,eAAoB;;EAG/C,WAAY,UAAU,gBAAgB;AAAA;;;;sBCjEzB,kBAAsE;AAAA,CACnF;CACO,EAAI,MAAK,MAAO;AAAA,SAAyC;QAAW;AAAA,EAAI;uBAAoB;AAAA,GAAC,MAAI,iBAAiB,SAAO;GAAjD,OAAqB;SAArB;AAAA;;EAAJ,EAAI,OAA2D;AAAA,YAAE;SAAY;AAAA,YAAE;;;;;6BCsB7I,WAEb;AAAA,KAAI;AAAA,EACH,QAAQ;EACR,UAAU;EACV,OAAO;;EAEP,OAAO;;;;;;"
}